local wireless = "back"
local wired = "bottom"
local wiredProt = "wired"

	rednet.open(wireless)
	rednet.host(wiredProt, wiredProt)
	rednet.close(wireless)
	
while true do
	
	rednet.open(wireless)
	local id, msg, protocol = rednet.receive()
	rednet.close(wireless)
	
	if protocol == "dns" then
		rednet.open(wireless)
		rednet.send(id, tostring(os.getComputerID()), protocol)
		rednet.close(wireless)
	else
		rednet.open(wired)
		rednet.send(tonumber(rednet.lookup(msg.sProt, msg.sProt)), msg, protocol)
		rednet.close(wired)	
	end

end